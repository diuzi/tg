<!DOCTYPE html>
<html lang="ru-RU" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV News</title>
    <!-- Иконки Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Улучшенный шрифт: Google Fonts (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
    /* 主题颜色变量 */
    :root, html[data-theme="dark"] {
        --bg-main: #0d1117;
        --card-bg: #161b22;
        --card-border: #30363d;
        --text-primary: #c9d1d9;
        --text-secondary: #8b949e;
        --text-accent: #58a6ff;
        --accent-color: #00FFFF;
        --button-bg: #21262d;
        --indicator-active: #00FFFF;
        --indicator-inactive: #30363d;
        --stats-bg: rgba(33, 38, 45, 0.5);
        --nav-bg: rgba(33, 38, 45, 0.9);
        --nav-hover-bg: var(--accent-color);
        --nav-hover-color: var(--bg-main);
    }

    html[data-theme="light"] {
        --bg-main: #ffffff;
        --card-bg: #fdfdfd;
        --card-border: #e1e4e8;
        --text-primary: #24292e;
        --text-secondary: #586069;
        --text-accent: #0366d6;
        --accent-color: #007BFF;
        --button-bg: #f6f8fa;
        --indicator-active: #007BFF;
        --indicator-inactive: #d1d5da;
        --stats-bg: rgba(246, 248, 250, 0.8);
        --nav-bg: rgba(255, 255, 255, 0.8);
        --nav-hover-bg: var(--accent-color);
        --nav-hover-color: #ffffff;
    }

    html[data-theme="gray"] {
        --bg-main: #f0f2f5;
        --card-bg: #ffffff;
        --card-border: #d9d9d9;
        --text-primary: #333333;
        --text-secondary: #666666;
        --text-accent: #0056b3;
        --accent-color: #006ae0;
        --button-bg: #e9ecef;
        --indicator-active: #0056b3;
        --indicator-inactive: #b0b0b0;
        --stats-bg: rgba(233, 236, 239, 0.8);
        --nav-bg: rgba(233, 236, 239, 0.9);
        --nav-hover-bg: var(--accent-color);
        --nav-hover-color: #ffffff;
    }

    /* --- 浮动控制面板样式 --- */
    .top-controls {
        padding: 10px 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: relative; /* 默认相对定位 */
        z-index: 1000;
        transition: all 0.3s ease-in-out;
    }

    /* 滚动时应用的粘性定位样式 */
    .top-controls.sticky {
        position: fixed; /* 固定在视口顶部 */
        top: 0;
        left: 0;
        right: 0;
        background-color: var(--nav-bg); /* 带透明度的背景 */
        backdrop-filter: blur(5px); /* 毛玻璃效果 */
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        padding: 8px 15px;
    }

    .theme-selector select, .language-selector select {
        padding: 6px 10px;
        border-radius: 5px;
        border: 1px solid var(--card-border);
        background: var(--button-bg);
        color: var(--text-accent);
        font-weight: 500;
        cursor: pointer;
        outline: none;
        font-size: 0.9rem;
        transition: background 0.3s, color 0.3s, border-color 0.3s;
    }
    /* -------------------------------------------------- */

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        /* 优化：添加 Inter 字体，并保留系统字体作为备用 */
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
                     'Helvetica Neue', Arial, sans-serif;
        background: var(--bg-main);
        color: var(--text-primary);
        line-height: 1.5;
        padding: 0 15px 15px;
        max-width: 1200px;
        margin: 0 auto;
        min-height: 100vh;
        font-size: 15px;
        position: relative;
        transition: background 0.3s, color 0.3s;
    }

    .header-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        margin-bottom: 15px;
        margin-top: 15px;
    }

    .header-container h2 { font-size: 1.3rem; font-weight: 700; color: var(--accent-color); }
    .highlights h2, .news-title { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); }
    .highlight-item { font-size: 0.95rem; font-weight: 500; }

    /* 优化：调整新闻内容的文字换行方式，避免不自然的断词 */
    .news-content {
        font-size: 0.9rem;
        font-weight: 400;
        margin-bottom: 20px;
        color: var(--text-secondary);
        line-height: 1.7;
        background: var(--card-bg);
        padding: 15px;
        overflow-wrap: break-word; /* 允许长单词在必要时换行 */
        word-wrap: break-word;     /* 兼容旧版浏览器 */
        word-break: normal;        /* 使用标准断词规则，而不是强制打断单词 */
        /* hyphens: auto; */       /* 移除自动连字符，避免在俄语和英语中出现不美观的断词 */
        border: 1px solid var(--card-border);
        border-radius: 8px;
    }
    footer { font-size: 0.75rem; font-weight: 400; color: var(--text-secondary); }
    .header-logo {
    width: 100%; /* 宽度占满容器 */
    max-width: 450px; /* 在大屏幕上限制最大宽度，防止过大 */
    height: auto; /* 高度自动调整，保持长宽比不变 */
    margin-bottom: 15px; /* 增加与下方内容的间距 */
    }
    .header-logo path { transition: fill 0.3s; }
    header { margin: 20px 0; padding-bottom: 15px; border-bottom: 2px solid var(--accent-color); position: relative; }
    h1 { color: var(--accent-color); font-size: 2.2rem; margin-bottom: 8px; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1); position: relative; display: inline-block; padding: 0 15px; }
    h1:after { content: ''; position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%); width: 80px; height: 3px; background: var(--accent-color); border-radius: 2px; }
    .stats-bar, .meta-info { font-size: 0.8rem; display: flex; justify-content: space-between; padding: 8px; background: var(--stats-bg); border-radius: 8px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05); margin: 8px 0; border: 1px solid var(--card-border); }
    .stat-item { display: flex; align-items: center; gap: 6px; color: var(--text-secondary); }
    .category { font-weight: bold; background: var(--button-bg); padding: 4px 8px; border-radius: 20px; display: inline-flex; align-items: center; gap: 6px; color: var(--text-accent); border: 1px solid var(--card-border); }
    .category i { font-size: 0.8em; }
    .date { display: flex; align-items: center; gap: 6px; font-weight: 400; color: var(--text-secondary); }
    .date i { color: var(--accent-color); font-size: 1em; }
    .highlights { background: var(--card-bg); border-radius: 12px; padding: 15px; margin-bottom: 25px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); border: 1px solid var(--card-border); }
    .highlights h2 { color: var(--accent-color); margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed var(--card-border); display: flex; align-items: center; gap: 8px; }
    .highlights h2 i { color: var(--accent-color); }
    .highlights h2:before { content: ''; display: block; width: 6px; height: 28px; background: var(--accent-color); border-radius: 3px; }
    .highlight-item { font-size: 0.95rem; font-weight: 500; margin: 10px 0; padding: 8px; background: var(--button-bg); border-left: 3px solid var(--accent-color); border-radius: 0 6px 6px 0; display: flex; justify-content: space-between; align-items: center; transition: all 0.3s ease; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05); color: var(--text-primary); }
    html[data-theme="dark"] .highlight-item:hover { background: rgba(0, 255, 255, 0.1); transform: translateX(5px); box-shadow: 0 3px 8px rgba(0, 255, 255, 0.1); }
    html[data-theme="light"] .highlight-item:hover { background: rgba(0, 123, 255, 0.1); transform: translateX(5px); box-shadow: 0 3px 8px rgba(0, 123, 255, 0.1); }
    html[data-theme="gray"] .highlight-item:hover { background: rgba(0, 86, 179, 0.1); transform: translateX(5px); box-shadow: 0 3px 8px rgba(0, 86, 179, 0.1); }
    .news-item { background: var(--card-bg); border-radius: 12px; padding: 15px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); border: 1px solid var(--card-border); position: relative; overflow: hidden; }
    .news-item:first-child { border-top: none; }
    .news-title { color: var(--text-primary); margin: 10px 0 15px; padding-bottom: 10px; border-bottom: 1px solid var(--card-border); line-height: 1.3; }
    .image-gallery-container {
        margin: 20px 0;
        border-radius: 12px;
        overflow: hidden;
        position: relative;
    }
    .image-gallery {
        display: flex;
        overflow-x: auto;
        scroll-behavior: smooth;
        gap: 15px;
        scrollbar-width: none;
        -ms-overflow-style: none;
        scroll-snap-type: x mandatory;
    }
    .image-gallery::-webkit-scrollbar { display: none; }
    .image-container {
        flex: 0 0 100%;
        width: 100%;
        aspect-ratio: 16 / 10;
        background: var(--button-bg);
        border-radius: 12px;
        overflow: hidden;
        scroll-snap-align: center;
        position: relative;
        cursor: zoom-in; /* 改变鼠标指针，提示可点击 */
    }
    .image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.4s ease;
    }
    .image-container:hover img {
        transform: scale(1.05);
    }
    .gallery-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 40px;
        height: 40px;
        background: var(--nav-bg);
        backdrop-filter: blur(5px);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 10;
        transition: all 0.3s ease;
        color: var(--text-primary);
        font-size: 1rem;
        border: 1px solid transparent;
    }
    .gallery-nav:hover {
        background: var(--accent-color);
        color: var(--bg-main);
        transform: translateY(-50%) scale(1.1);
    }
    .gallery-nav.prev { left: 15px; }
    .gallery-nav.next { right: 15px; }
    .gallery-indicators {
        position: absolute;
        bottom: 15px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        justify-content: center;
        gap: 8px;
        z-index: 10;
        padding: 5px 10px;
        background: var(--nav-bg);
        backdrop-filter: blur(5px);
        border-radius: 20px;
    }
    .indicator {
        width: 20px;
        height: 4px;
        border-radius: 2px;
        background: var(--indicator-inactive);
        cursor: pointer;
        transition: all 0.4s ease;
    }
    .indicator.active {
        background: var(--indicator-active);
        width: 30px;
    }

    /* --- 新增：全屏图片查看器（Lightbox）样式 --- */
    .fullscreen-viewer {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        background: rgba(0,0,0,0.9);
        backdrop-filter: blur(8px);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s;
        -webkit-user-select: none; /* 禁止文本选中 */
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .fullscreen-viewer.show {
        opacity: 1;
        visibility: visible;
    }
    .fullscreen-viewer img {
        max-width: 90%;
        max-height: 85%;
        object-fit: contain;
        transition: transform 0.3s ease-out, opacity 0.3s ease-out; /* 为图片切换添加过渡 */
        transform: scale(1);
        opacity: 1;
    }
    /* 图片切换时的动画效果 */
    .fullscreen-viewer img.fade-out {
        transform: scale(0.95);
        opacity: 0;
    }
    /* 关闭按钮 */
    .fullscreen-close {
        position: absolute;
        top: 20px;
        right: 25px;
        width: 40px;
        height: 40px;
        font-size: 24px;
        color: #fff;
        background: rgba(40, 40, 40, 0.7);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: transform 0.3s, background-color 0.3s;
    }
    .fullscreen-close:hover {
        transform: rotate(90deg);
        background-color: rgba(255, 0, 0, 0.8);
    }
    /* 左右导航箭头 */
    .fullscreen-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 45px;
        height: 45px;
        font-size: 22px;
        color: #fff;
        background: rgba(40, 40, 40, 0.6);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: transform 0.3s, background-color 0.3s;
    }
    .fullscreen-nav:hover {
        transform: translateY(-50%) scale(1.1);
        background: var(--accent-color);
    }
    .fullscreen-nav.prev { left: 20px; }
    .fullscreen-nav.next { right: 20px; }
    @media (max-width: 768px) {
        .fullscreen-nav { display: none; } /* 在移动端隐藏箭头，依赖滑动 */
    }
    /* --- 全屏查看器样式结束 --- */

    .news-content p { margin-bottom: 12px; }
    .source-link { display: inline-flex; align-items: center; text-decoration: none; color: var(--text-accent); font-weight: 600; transition: all 0.3s ease; padding: 0; background: none; box-shadow: none; font-size: 0.95em; margin-left: 4px; vertical-align: baseline; line-height: 1; margin-top: 0 !important; }
    .source-link:hover { color: var(--accent-color); text-decoration: underline; }
    .source-link i { font-size: 0.95em; margin-left: 3px; vertical-align: middle; }
    footer { text-align: center; margin-top: 40px; padding: 20px; border-top: 1px solid var(--card-border); background: var(--card-bg); border-radius: 12px; }

    /* --- 返回顶部按钮样式 --- */
    #back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 45px;
        height: 45px;
        background-color: var(--accent-color);
        color: var(--nav-hover-color);
        border: none;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        font-size: 1.2rem;
    }
    #back-to-top.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }
    #back-to-top:hover {
        transform: scale(1.1);
    }

    /* 优化：减小移动端页面的左右边距，使其更紧凑 */
    @media (max-width: 768px) {
        body {
            padding: 0 5px 5px; /* 从 8px 减小到 5px */
            font-size: 14px;
        }
        .top-controls {
            padding: 8px 5px; /* 调整内边距以匹配 body */
        }
        .top-controls.sticky {
            padding: 6px 5px; /* 调整内边距以匹配 body */
        }
        .theme-selector select, .language-selector select {
            padding: 5px 8px;
            font-size: 0.8rem;
        }
    }
</style>

</head>
<body>
<!-- 浮动控制元素的容器 -->
<div class="top-controls" id="top-controls">
    <div class="theme-selector">
        <select id="themeSelect">
            <option value="dark" data-ru="Темная" data-zh="深色" data-en="Dark">深色</option>
            <option value="light" data-ru="Светлая" data-zh="浅色" data-en="Light">浅色</option>
            <option value="gray" data-ru="Серая" data-zh="灰色" data-en="Gray">灰色</option>
        </select>
    </div>
    <div class="language-selector">
        <select id="languageSelect">
            <option value="ru">Русский</option>
            <option value="zh">中文</option>
            <option value="en">English</option>
        </select>
    </div>
</div>

<div class="header-container" id="main-header">
    <svg class="header-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 300" width="700" height="300">
      <defs>
        <style>
          /*
             注意: 为了达到最佳效果，建议您加载logo所使用的精确字体。
             这里的 'Arial', 'Helvetica' 是一个通用的粗体无衬线字体作为替代。
          */
          .main-text-font {
            font-family: 'Arial', 'Helvetica', sans-serif;
            font-size: 48px;
            font-weight: 900; /* 非常粗的字重 */
            letter-spacing: 2px;
          }
          .tagline-font {
            font-family: 'Arial', 'Helvetica', sans-serif;
            font-size: 18px;
            font-weight: normal;
            letter-spacing: 0.5px;
          }
          .cyan-color {
            fill: #00E5E5; /* 青色 */
          }
          .black-color {
            fill: #000000; /* 黑色 */
          }
        </style>
      </defs>

      <!-- 第一行：图标 -->
      <g id="logo-icon" transform="translate(350, 80)">
        <!-- 中间的圆圈 -->
        <circle class="cyan-color" cx="0" cy="0" r="10"/>
        <!-- 左边的形状 (指向左侧，右边是内凹弧形) -->
        <path class="cyan-color" d="M -55,0 L -25,-22 C -40,0 -40,0 -25,22 L -55,0 Z" />
        <!-- 右边的形状 (指向右侧，左边是内凹弧形) -->
        <path class="cyan-color" d="M 55,0 L 25,-22 C 40,0 40,0 25,22 L 55,0 Z" />
      </g>

      <!-- 第二行：主要文字 "ATOM INTELLIGENCE" -->
      <text x="50%" y="185" text-anchor="middle" class="main-text-font">
        <tspan class="black-color">ATOM INTELLIGENCE</tspan>
      </text>

      <!-- 第三行：标语 -->
      <text x="50%" y="235" text-anchor="middle" class="tagline-font black-color">
        Transforming Insights, Powering Innovation
      </text>

    </svg>
</div>

<!-- 新增：在这里添加 stats-bar 统计信息栏 -->
<div class="stats-bar">
    <div class="stat-item">
        <i class="fas fa-file-alt"></i>
        <span>
            <span id="wordsCount"
                  data-ru="187"
                  data-zh="325"
                  data-en="187">
                187
            </span>
            <span id="wordsText"
                  data-ru="Слов"
                  data-zh="字"
                  data-en="Words">
                Слов
            </span>
        </span>
    </div>
    <div class="stat-item">
        <i class="fas fa-clock"></i>
        <span>
            <span id="minsCount"
                  data-ru="1"
                  data-zh="1"
                  data-en="1">
                1
            </span>
            <span id="minsText"
                  data-ru="Мин"
                  data-zh="分钟"
                  data-en="Mins">
                Мин
            </span>
        </span>
    </div>
</div>
<!-- stats-bar 添加结束 -->


<!-- 主体内容 -->

<section class="highlights">
    <h2><i class="fas fa-star"></i> <span id="highlightsText">Основные моменты</span>
    </h2>
    
    <div class="highlight-item" data-ru="Rivian обвиняет Огайо в несправедливом запрете прямых продаж" data-zh="Rivian控诉俄亥俄州直销禁令不公" data-en="Rivian accuses Ohio's direct sales ban of being unfair">
        <span>Rivian обвиняет Огайо в несправедливом запрете прямых продаж <a href="https://auto.gasgoo.com/news/202508/6I70430878C501.shtml" class="source-link">↗</a></span>
    </div>
    
    <div class="highlight-item" data-ru="Nvidia прокомментировала проблемы безопасности чипов." data-zh="英伟达回应芯片安全问题" data-en="NVIDIA responds to chip security concerns">
        <span>Nvidia прокомментировала проблемы безопасности чипов. <a href="https://auto.gasgoo.com/news/202508/6I70430867C103.shtml" class="source-link">↗</a></span>
    </div>
    
    <div class="highlight-item" data-ru="Фольксваген проиграл дело о дизельном скандале" data-zh="大众排放作弊案败诉" data-en="Volkswagen loses emissions cheating lawsuit">
        <span>Фольксваген проиграл дело о дизельном скандале <a href="https://auto.gasgoo.com/news/202508/6I70430852C109.shtml" class="source-link">↗</a></span>
    </div>
    
    <div class="highlight-item" data-ru="Тарифы США привели к квартальному убытку Mazda" data-zh="美关税致马自达季度亏损" data-en="US tariffs cause Mazda's quarterly losses">
        <span>Тарифы США привели к квартальному убытку Mazda <a href="https://auto.gasgoo.com/news/202508/6I70430835C109.shtml" class="source-link">↗</a></span>
    </div>
    
</section>



<article class="news-item">
    <h2 class="news-title" data-ru="Rivian подала в суд на штат Огайо из-за исключения Tesla из запрета на прямые продажи." data-zh="Rivian起诉俄亥俄州直销禁令豁免特斯拉"
        data-en="Rivian sues Ohio over direct sales ban exemption for Tesla">Rivian подала в суд на штат Огайо из-за исключения Tesla из запрета на прямые продажи.</h2>
    <div class="meta-info">
            <span class="date">
                <i class="fas fa-calendar-alt"></i>
                2025-08-06
            </span>
    </div>

    
    <div class="image-gallery-container">
        <div class="image-gallery" id="gallery-1">
            
            <div class="image-container">
                <img src="https://imagecn.gasgoo.com/moblogo/News/UEditor/image/20250806/6389009104478392652335802.png" alt="新闻配图" loading="lazy">
            </div>
            
        </div>
        <div class="gallery-nav prev" onclick="scrollGallery('gallery-1', -1)">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div class="gallery-nav next" onclick="scrollGallery('gallery-1', 1)">
            <i class="fas fa-chevron-right"></i>
        </div>
        <div class="gallery-indicators" id="indicators-1"></div>
    </div>
    

    <div class="news-content" data-ru="Rivian обвинил штат Огайо в том, что закон 2014 года предоставил Tesla исключение для прямых продаж, но запретил другим производителям электромобилей продавать напрямую, считая этот запрет неконституционным и наносящим ущерб рыночной конкуренции."
         data-zh="Rivian指控俄亥俄州2014年法律对特斯拉实行直销豁免，却禁止其他电动车企直接销售，认为该禁令违宪且损害市场竞争。" data-en="Rivian alleges that Ohio's 2014 law grants Tesla an exemption for direct sales while prohibiting other EV makers from selling directly, arguing the ban is unconstitutional and harms market competition.">
        Rivian обвинил штат Огайо в том, что закон 2014 года предоставил Tesla исключение для прямых продаж, но запретил другим производителям электромобилей продавать напрямую, считая этот запрет неконституционным и наносящим ущерб рыночной конкуренции.
        <a href="https://auto.gasgoo.com/news/202508/6I70430878C501.shtml" class="source-link" style="display: inline-block; margin-top: 15px;">↗</a>
    </div>
</article>

<article class="news-item">
    <h2 class="news-title" data-ru="Nvidia опровергла наличие скрытых уязвимостей в чипе H20." data-zh="英伟达否认H20芯片存在安全后门"
        data-en="NVIDIA denies security backdoor in H20 chips">Nvidia опровергла наличие скрытых уязвимостей в чипе H20.</h2>
    <div class="meta-info">
            <span class="date">
                <i class="fas fa-calendar-alt"></i>
                2025-08-06
            </span>
    </div>

    
    <div class="image-gallery-container">
        <div class="image-gallery" id="gallery-2">
            
            <div class="image-container">
                <img src="https://imagecn.gasgoo.com/moblogo/News/UEditor/image/20250806/6389008894520331315068971.jpg" alt="新闻配图" loading="lazy">
            </div>
            
        </div>
        <div class="gallery-nav prev" onclick="scrollGallery('gallery-2', -1)">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div class="gallery-nav next" onclick="scrollGallery('gallery-2', 1)">
            <i class="fas fa-chevron-right"></i>
        </div>
        <div class="gallery-indicators" id="indicators-2"></div>
    </div>
    

    <div class="news-content" data-ru="NVIDIA в ответ на беседу с Управлением киберпространства Китая опубликовала заявление, отрицая наличие бэкдора или аварийного выключателя в чипе H20, подчеркивая, что его дизайн соответствует глобальным стандартам кибербезопасности, и предупреждая о потенциальных рисках аппаратных бэкдоров."
         data-zh="英伟达针对网信办约谈，发布声明否认H20芯片存在后门或终止开关，强调其设计符合全球网络安全标准，并警示硬件后门的潜在风险。" data-en="NVIDIA responded to the Cyberspace Administration's interview by issuing a statement denying that its H20 chip contains any backdoor or kill switch, emphasizing that its design complies with global cybersecurity standards, while warning of the potential risks posed by hardware backdoors.">
        NVIDIA в ответ на беседу с Управлением киберпространства Китая опубликовала заявление, отрицая наличие бэкдора или аварийного выключателя в чипе H20, подчеркивая, что его дизайн соответствует глобальным стандартам кибербезопасности, и предупреждая о потенциальных рисках аппаратных бэкдоров.
        <a href="https://auto.gasgoo.com/news/202508/6I70430867C103.shtml" class="source-link" style="display: inline-block; margin-top: 15px;">↗</a>
    </div>
</article>

<article class="news-item">
    <h2 class="news-title" data-ru="Европейский суд постановил, что Volkswagen должен нести ответственность за устройства для манипулирования выбросами." data-zh="欧盟最高法院裁定大众需为排放作弊装置承担责任"
        data-en="The EU's highest court ruled that Volkswagen must take responsibility for emissions cheating devices.">Европейский суд постановил, что Volkswagen должен нести ответственность за устройства для манипулирования выбросами.</h2>
    <div class="meta-info">
            <span class="date">
                <i class="fas fa-calendar-alt"></i>
                2025-08-06
            </span>
    </div>

    
    <div class="image-gallery-container">
        <div class="image-gallery" id="gallery-3">
            
            <div class="image-container">
                <img src="https://imagecn.gasgoo.com/moblogo/News/UEditor/image/20250806/6389007555646679895240056.jpg" alt="新闻配图" loading="lazy">
            </div>
            
        </div>
        <div class="gallery-nav prev" onclick="scrollGallery('gallery-3', -1)">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div class="gallery-nav next" onclick="scrollGallery('gallery-3', 1)">
            <i class="fas fa-chevron-right"></i>
        </div>
        <div class="gallery-indicators" id="indicators-3"></div>
    </div>
    

    <div class="news-content" data-ru="Суд ЕС постановил, что Volkswagen должен нести юридическую ответственность за использование нелегальных устройств для манипуляции с выбросами, сумма компенсации может достигать 15% от стоимости автомобиля. Это решение может повлиять на доверие потребителей и лояльность к бренду."
         data-zh="欧盟法院裁定大众汽车需为使用非法排放作弊装置承担法律责任，赔偿金额或达购车价的15%。该裁决可能影响消费者信任和品牌忠诚度。" data-en="The EU Court ruled that Volkswagen must bear legal liability for using illegal emission cheating devices, with potential compensation reaching up to 15% of the vehicle purchase price. This ruling may impact consumer trust and brand loyalty.">
        Суд ЕС постановил, что Volkswagen должен нести юридическую ответственность за использование нелегальных устройств для манипуляции с выбросами, сумма компенсации может достигать 15% от стоимости автомобиля. Это решение может повлиять на доверие потребителей и лояльность к бренду.
        <a href="https://auto.gasgoo.com/news/202508/6I70430852C109.shtml" class="source-link" style="display: inline-block; margin-top: 15px;">↗</a>
    </div>
</article>

<article class="news-item">
    <h2 class="news-title" data-ru="Mazda понесла чистый убыток в размере 286 миллионов долларов за квартал из-за пошлин в США." data-zh="马自达因美国关税导致季度净亏损2.86亿美元。"
        data-en="Mazda reported a quarterly net loss of $286 million due to U.S. tariffs.">Mazda понесла чистый убыток в размере 286 миллионов долларов за квартал из-за пошлин в США.</h2>
    <div class="meta-info">
            <span class="date">
                <i class="fas fa-calendar-alt"></i>
                2025-08-06
            </span>
    </div>

    
    <div class="image-gallery-container">
        <div class="image-gallery" id="gallery-4">
            
            <div class="image-container">
                <img src="https://imagecn.gasgoo.com/moblogo/News/UEditor/image/20250806/6389007176837012826686149.png" alt="新闻配图" loading="lazy">
            </div>
            
        </div>
        <div class="gallery-nav prev" onclick="scrollGallery('gallery-4', -1)">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div class="gallery-nav next" onclick="scrollGallery('gallery-4', 1)">
            <i class="fas fa-chevron-right"></i>
        </div>
        <div class="gallery-indicators" id="indicators-4"></div>
    </div>
    

    <div class="news-content" data-ru="Компания Mazda из-за повышения США импортных пошлин на автомобили получила чистый убыток в размере 286 млн долларов за квартал, операционная прибыль пострадала на 70 млрд иен, и компания скорректировала экспортную стратегию для противодействия."
         data-zh="马自达因美国加征进口汽车关税，本季度净亏损达2.86亿美元，营业利润受700亿日元负面影响，并调整出口策略以应对。" data-en="Mazda reported a net loss of $286 million this quarter due to increased U.S. tariffs on imported vehicles, with operating profit negatively impacted by 70 billion yen, and has adjusted its export strategy in response.">
        Компания Mazda из-за повышения США импортных пошлин на автомобили получила чистый убыток в размере 286 млн долларов за квартал, операционная прибыль пострадала на 70 млрд иен, и компания скорректировала экспортную стратегию для противодействия.
        <a href="https://auto.gasgoo.com/news/202508/6I70430835C109.shtml" class="source-link" style="display: inline-block; margin-top: 15px;">↗</a>
    </div>
</article>


<footer>
    <p id="copyrightText">Авторское право © Atom 2025. Все права защищены</p>
    <p id="updateText">Последнее обновление: 2025-08-06 23:22:54</p>
</footer>

<!-- 返回顶部按钮 -->
<button id="back-to-top" title="返回顶部"><i class="fas fa-arrow-up"></i></button>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // 初始化所有功能
        initializeGalleries();
        initializeLanguage();
        initializeTheme();
        // [改动] 初始化功能更强的全屏查看器
        initializeFullscreenViewer();
        initializeScrollFeatures();
    });

    // --- 主题初始化 ---
    function initializeTheme() {
        const themeSelect = document.getElementById('themeSelect');
        const savedTheme = localStorage.getItem('selectedTheme') || 'light';
        applyTheme(savedTheme);
        themeSelect.value = savedTheme;
        themeSelect.addEventListener('change', function() {
            const newTheme = this.value;
            applyTheme(newTheme);
            localStorage.setItem('selectedTheme', newTheme);
        });
    }

    function applyTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
    }

    // --- 语言初始化 ---
    function initializeLanguage() {
        const languageSelect = document.getElementById('languageSelect');
        const savedLang = localStorage.getItem('selectedLanguage') || 'ru';
        languageSelect.value = savedLang;
        applyLanguage(savedLang);
        languageSelect.addEventListener('change', function() {
            const lang = this.value;
            localStorage.setItem('selectedLanguage', lang);
            applyLanguage(lang);
        });
    }

    // --- 滚动特性初始化 ---
    function initializeScrollFeatures() {
        const topControls = document.getElementById('top-controls');
        const mainHeader = document.getElementById('main-header');
        const backToTopButton = document.getElementById('back-to-top');
        const scrollThreshold = mainHeader.offsetTop + mainHeader.offsetHeight;

        window.addEventListener('scroll', () => {
            if (window.scrollY > scrollThreshold) {
                topControls.classList.add('sticky');
            } else {
                topControls.classList.remove('sticky');
            }
            if (window.scrollY > 300) {
                backToTopButton.classList.add('show');
            } else {
                backToTopButton.classList.remove('show');
            }
        }, { passive: true });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }

    // --- 画廊初始化 ---
    function initializeGalleries() {
        document.querySelectorAll('.image-gallery').forEach(gallery => {
            const galleryId = gallery.id;
            const indicatorsContainer = document.getElementById(`indicators-${galleryId.split('-')[1]}`);
            const imageContainers = gallery.querySelectorAll('.image-container');
            const imageCount = imageContainers.length;

            if (imageCount === 0 || !indicatorsContainer) return;

            const navContainer = gallery.closest('.image-gallery-container');
            if (imageCount <= 1) {
                navContainer.querySelector('.gallery-nav.prev').style.display = 'none';
                navContainer.querySelector('.gallery-nav.next').style.display = 'none';
                indicatorsContainer.style.display = 'none';
                return;
            }

            indicatorsContainer.innerHTML = '';
            for (let i = 0; i < imageCount; i++) {
                const indicator = document.createElement('div');
                indicator.classList.add('indicator');
                if (i === 0) indicator.classList.add('active');
                indicator.onclick = () => showImage(galleryId, i);
                indicatorsContainer.appendChild(indicator);
            }

            resetAutoScroll(gallery);

            let scrollTimer;
            gallery.addEventListener('scroll', () => {
                 clearTimeout(scrollTimer);
                 scrollTimer = setTimeout(() => {
                      updateIndicators(galleryId);
                 }, 150);
            }, { passive: true });
        });
    }

    // --- [重大改动] 全屏图片查看器（支持滑动和按钮）---
    function initializeFullscreenViewer() {
        // 全局变量，用于存储当前查看器的状态
        let currentImages = [];
        let currentIndex = 0;
        let viewerElement = null;
        let touchStartX = 0;
        let touchEndX = 0;

        // 为页面上所有图集中的图片容器添加点击事件
        document.querySelectorAll('.image-container').forEach((container, index) => {
            container.addEventListener('click', (e) => {
                const gallery = container.closest('.image-gallery');
                if (!gallery) return;

                // 获取图集内所有图片的URL
                currentImages = Array.from(gallery.querySelectorAll('img')).map(img => img.src);
                // 确定被点击图片在图集中的索引
                currentIndex = Array.from(gallery.children).indexOf(container);

                // 创建并显示查看器
                createViewer();
            });
        });

        // 创建查看器DOM结构
        function createViewer() {
            // 如果已存在，则先移除
            if (document.querySelector('.fullscreen-viewer')) {
                document.querySelector('.fullscreen-viewer').remove();
            }

            // 创建DOM元素
            viewerElement = document.createElement('div');
            viewerElement.className = 'fullscreen-viewer';
            viewerElement.innerHTML = `
                <div class="fullscreen-close" title="关闭">&times;</div>
                <div class="fullscreen-nav prev" title="上一张">&#10094;</div>
                <img src="" alt="全屏图片">
                <div class="fullscreen-nav next" title="下一张">&#10095;</div>
            `;
            document.body.appendChild(viewerElement);
            document.body.style.overflow = 'hidden'; // 禁止背景滚动

            // 添加事件监听
            viewerElement.querySelector('.fullscreen-close').addEventListener('click', closeViewer);
            viewerElement.querySelector('.fullscreen-nav.prev').addEventListener('click', () => changeImage(-1));
            viewerElement.querySelector('.fullscreen-nav.next').addEventListener('click', () => changeImage(1));

            // 触摸滑动事件
            viewerElement.addEventListener('touchstart', (e) => { touchStartX = e.changedTouches[0].screenX; }, { passive: true });
            viewerElement.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            // 键盘导航事件
            document.addEventListener('keydown', handleKeydown);

            // 显示第一张图
            showImageInViewer();

            // 延迟添加show类以触发CSS动画
            setTimeout(() => viewerElement.classList.add('show'), 10);
        }

        // 在查看器中显示图片
        function showImageInViewer() {
            if (!viewerElement) return;
            const img = viewerElement.querySelector('img');
            const prevNav = viewerElement.querySelector('.fullscreen-nav.prev');
            const nextNav = viewerElement.querySelector('.fullscreen-nav.next');

            img.src = currentImages[currentIndex];

            // 如果只有一张图，隐藏导航箭头
            if (currentImages.length <= 1) {
                prevNav.style.display = 'none';
                nextNav.style.display = 'none';
            } else {
                prevNav.style.display = 'flex';
                nextNav.style.display = 'flex';
            }
        }

        // 切换图片
        function changeImage(direction) {
            const img = viewerElement.querySelector('img');
            // 添加淡出效果
            img.classList.add('fade-out');

            setTimeout(() => {
                currentIndex += direction;
                // 循环播放
                if (currentIndex >= currentImages.length) {
                    currentIndex = 0;
                } else if (currentIndex < 0) {
                    currentIndex = currentImages.length - 1;
                }

                showImageInViewer();

                // 移除淡出效果，图片会以 transform: scale(1), opacity: 1 的状态出现
                img.classList.remove('fade-out');
            }, 300); // 等待淡出动画完成
        }

        // 处理滑动操作
        function handleSwipe() {
            // 设置滑动阈值，防止误触
            if (Math.abs(touchEndX - touchStartX) < 50) return;

            if (touchEndX < touchStartX) {
                // 向左滑动，看下一张
                changeImage(1);
            }
            if (touchEndX > touchStartX) {
                // 向右滑动，看上一张
                changeImage(-1);
            }
        }

        // 处理键盘事件
        function handleKeydown(e) {
            if (!viewerElement) return;
            if (e.key === 'ArrowLeft') {
                changeImage(-1);
            } else if (e.key === 'ArrowRight') {
                changeImage(1);
            } else if (e.key === 'Escape') {
                closeViewer();
            }
        }

        // 关闭查看器
        function closeViewer() {
            if (viewerElement) {
                viewerElement.classList.remove('show');
                document.removeEventListener('keydown', handleKeydown);
                document.body.style.overflow = ''; // 恢复背景滚动
                setTimeout(() => {
                    viewerElement.remove();
                    viewerElement = null;
                }, 300); // 等待关闭动画完成
            }
        }
    }


    // --- 画廊功能函数 ---
    function getCurrentImageIndex(galleryId) {
        const gallery = document.getElementById(galleryId);
        if (!gallery || gallery.children.length === 0) return 0;
        const scrollLeft = gallery.scrollLeft;
        const itemWidth = gallery.children[0].getBoundingClientRect().width;
        const gap = parseInt(getComputedStyle(gallery).gap) || 0;
        return Math.round(scrollLeft / (itemWidth + gap));
    }

    function showImage(galleryId, index) {
        const gallery = document.getElementById(galleryId);
        const image = gallery.children[index];
        if (!image) return;

        gallery.scrollTo({
            left: image.offsetLeft,
            behavior: 'smooth'
        });

        resetAutoScroll(gallery);
    }

    function scrollGallery(galleryId, direction) {
        const gallery = document.getElementById(galleryId);
        const currentIndex = getCurrentImageIndex(galleryId);
        let newIndex = currentIndex + direction;

        if (newIndex >= gallery.children.length) {
             newIndex = 0;
        } else if (newIndex < 0) {
             newIndex = gallery.children.length - 1;
        }
        showImage(galleryId, newIndex);
    }

    function resetAutoScroll(gallery) {
        clearInterval(gallery.dataset.autoScroll);
        gallery.dataset.autoScroll = setInterval(() => {
            scrollGallery(gallery.id, 1);
        }, 5000);
    }

    function updateIndicators(galleryId) {
        const indicatorsContainer = document.getElementById(`indicators-${galleryId.split('-')[1]}`);
        if (!indicatorsContainer) return;
        const activeIndex = getCurrentImageIndex(galleryId);
        indicatorsContainer.querySelectorAll('.indicator').forEach((dot, index) => {
            dot.classList.toggle('active', index === activeIndex);
        });
    }

    // --- 语言应用核心函数 ---
    function applyLanguage(lang) {
        const langMap = {'ru': 'ru-RU', 'zh': 'zh-CN', 'en': 'en-US'};
        document.documentElement.lang = langMap[lang] || 'ru-RU';

        document.querySelectorAll('[data-ru]').forEach(element => {
            if (element.dataset[lang]) {
                if (element.classList.contains('news-content')) {
                    const link = element.querySelector('.source-link');
                    element.innerHTML = element.dataset[lang];
                    if (link) element.appendChild(link.cloneNode(true));
                } else if (element.classList.contains('highlight-item')) {
                    const link = element.querySelector('.source-link');
                    const linkHref = link ? link.href : '#';
                    element.innerHTML = `${element.dataset[lang]} <a href="${linkHref}" class="source-link">↗</a>`;
                } else {
                    element.textContent = element.dataset[lang];
                }
            }
        });

        document.querySelectorAll('#themeSelect option').forEach(option => {
            if (option.dataset[lang]) {
                option.textContent = option.dataset[lang];
            }
        });

        const translations = {
            ru: {
                highlights: "Основные моменты",
                copyright: "Авторское право © Atom 2025. Все права защищены",
                updated: "Последнее обновление: "
            },
            zh: {
                highlights: "重点内容",
                copyright: "版权所有 © Atom 2025。保留所有权利",
                updated: "最后更新: "
            },
            en: {
                highlights: "Highlights",
                copyright: "Copyright © Atom 2025. All Rights Reserved",
                updated: "Last updated: "
            }
        };

        const highlightsText = document.getElementById('highlightsText');
        const copyrightText = document.getElementById('copyrightText');
        const updateText = document.getElementById('updateText');

        if (highlightsText) highlightsText.textContent = translations[lang].highlights;
        if (copyrightText) copyrightText.textContent = translations[lang].copyright;
        if (updateText) {
            updateText.textContent = translations[lang].updated + '2025-08-06 23:22:54';
        }

        const categorySummary = document.getElementById('categorySummary');
        if (categorySummary) {
            switch(lang) {
                case 'ru':
                    categorySummary.textContent = "Транснациональные компании сталкиваются с юридическими и рыночными вызовами, связанными с вопросами безопасности чипов, корректировкой тарифов и запретами на продажи.";
                    break;
                case 'zh':
                    categorySummary.textContent = "跨国企业面临法律与市场挑战，涉及芯片安全、关税调整及销售禁令等问题。";
                    break;
                case 'en':
                    categorySummary.textContent = "Multinational companies face legal and market challenges involving chip security, tariff adjustments, and sales bans.";
                    break;
            }
        }
    }
</script>
</body>
</html>