<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 15px;
            background: #f9f9f9;
        }
        .news-image {
            width: 100%;
            border-radius: 10px;
            margin: 10px 0;
        }
        .news-text {
            margin: 15px 0;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div id="news-content">
        <!-- 动态加载内容 -->
    </div>
    <script>
        // 从 Telegram 接收数据
        const tg = window.Telegram.WebApp;
        tg.expand(); // 自动展开弹窗

        // 假设通过 URL 参数传递新闻ID（如 ?news_id=123）
        const urlParams = new URLSearchParams(window.location.search);
        const newsId = urlParams.get('news_id');

        // 模拟数据（实际应从后端API获取）
        const newsData = {
            "123": {
                title: "Breaking News",
                content: [
                    { type: "image", data: "https://inews.gtimg.com/om_bt/OFWaQU0vSwfbQJyZqzFVc6d5dvx7s8aDYIsD0qryNyKpgAA/1000" },
                    { type: "text", data: "This is the first paragraph of the news." },
                    { type: "image", data: "https://inews.gtimg.com/om_bt/ON9U-iGHjnrfKcpeTguj8Vhl2568WcGtXyBR7RNNXakrAAA/641" },
                    { type: "text", data: "This is the second paragraph." },
                ]
            }
        };

        // 渲染内容
        function renderNews(newsId) {
            const news = newsData[newsId];
            if (!news) return;

            let html = `<h1>${news.title}</h1>`;
            news.content.forEach(item => {
                if (item.type === "image") {
                    html += `<img src="${item.data}" class="news-image">`;
                } else if (item.type === "text") {
                    html += `<p class="news-text">${item.data}</p>`;
                }
            });
            document.getElementById("news-content").innerHTML = html;
        }

        renderNews(newsId);
    </script>
</body>
</html>
