<!DOCTYPE html>
<html lang="ru-RU" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV News</title>
    <!-- 图标库 Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 优化字体: Google Fonts (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- 主题颜色变量 --- */
:root, html[data-theme="dark"] {
    --brand-cyan: #00FFFF; /* 定义固定的青色 */
    --bg-main: #0d1117;
    --card-bg: #161b22;
    --card-border: #30363d;
    --text-primary: #c9d1d9;
    --text-secondary: #8b949e;
    --text-accent: #58a6ff;
    --accent-color: #00FFFF;
    --button-bg: #21262d;
    --indicator-active: #00FFFF; /* 将活动指示点默认也改为青色 */
    --indicator-inactive: #30363d;
    --stats-bg: rgba(33, 38, 45, 0.5);
    --nav-bg: rgba(33, 38, 45, 0.9);
    --nav-hover-bg: var(--accent-color);
    --nav-hover-color: var(--bg-main);
}

html[data-theme="light"] {
    --bg-main: #ffffff;
    --card-bg: #fdfdfd;
    --card-border: #e1e4e8;
    --text-primary: #24292e;
    --text-secondary: #586069;
    --text-accent: #0366d6;
    --accent-color: #007BFF;
    --button-bg: #f6f8fa;
    --indicator-active: #007BFF;
    --indicator-inactive: #d1d5da;
    --stats-bg: rgba(246, 248, 250, 0.8);
    --nav-bg: rgba(255, 255, 255, 0.8);
    --nav-hover-bg: var(--accent-color);
    --nav-hover-color: #ffffff;
}

html[data-theme="gray"] {
    --bg-main: #f0f2f5;
    --card-bg: #ffffff;
    --card-border: #d9d9d9;
    --text-primary: #333333;
    --text-secondary: #666666;
    --text-accent: #0056b3;
    --accent-color: #006ae0;
    --button-bg: #e9ecef;
    --indicator-active: #0056b3;
    --indicator-inactive: #b0b0b0;
    --stats-bg: rgba(233, 236, 239, 0.8);
    --nav-bg: rgba(233, 236, 239, 0.9);
    --nav-hover-bg: var(--accent-color);
    --nav-hover-color: #ffffff;
}


/* --- 浮动控制面板样式 --- */
.top-controls {
    padding: 10px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative; /* 默认相对定位 */
    z-index: 1000;
    transition: all 0.3s ease-in-out;
}

/* 滚动时应用的粘性定位样式 */
.top-controls.sticky {
    position: fixed; /* 固定在视口顶部 */
    top: 0;
    left: 0;
    right: 0;
    background-color: var(--nav-bg); /* 带透明度的背景 */
    backdrop-filter: blur(5px); /* 毛玻璃效果 */
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    padding: 8px 15px;
}

.theme-selector select, .language-selector select {
    padding: 6px 10px;
    border-radius: 5px;
    border: 1px solid var(--card-border);
    background: var(--button-bg);
    color: var(--text-accent);
    font-weight: 500;
    cursor: pointer;
    outline: none;
    font-size: 0.9rem;
    transition: background 0.3s, color 0.3s, border-color 0.3s;
}
/* -------------------------------------------------- */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    /* 优化：添加 Inter 字体，并保留系统字体作为备用 */
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
                 'Helvetica Neue', Arial, sans-serif;
    background: var(--bg-main);
    color: var(--text-primary);
    line-height: 1.5;
    padding: 0 15px 15px;
    max-width: 1200px;
    margin: 0 auto;
    min-height: 100vh;
    font-size: 15px;
    position: relative;
    transition: background 0.3s, color 0.3s;
}

.header-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: 0; /* [修改] 移除它自己的下边距，不再推开下面的元素 */
    margin-top: 15px;
}

.header-container h2 { font-size: 1.3rem; font-weight: 700; color: var(--accent-color); }
.news-title { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); }

.news-content {
    font-size: 0.9rem;
    font-weight: 400;
    margin-bottom: 20px;
    color: var(--text-secondary);
    line-height: 1.7;
    background: var(--card-bg);
    padding: 15px;
    border: 1px solid var(--card-border);
    border-radius: 8px;
    /* [修改] 使用 overflow-wrap 作为备用方案，并开启自动连字符 */
    overflow-wrap: break-word;
    word-wrap: break-word; /* 兼容旧版浏览器 */
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
    hyphens: auto;
    word-break: normal; /* [修改] 恢复到 normal，让 hyphens 生效 */
}
footer { font-size: 0.75rem; font-weight: 400; color: var(--text-secondary); }
<!--.header-logo {-->
<!--width: 100%; /* 宽度占满容器 */-->
<!--max-width: 450px; /* 在大屏幕上限制最大宽度，防止过大 */-->
<!--height: auto; /* 高度自动调整，保持长宽比不变 */-->
<!--margin-bottom: 15px; /* 增加与下方内容的间距 */-->
<!--}-->
<!--.header-logo path { transition: fill 0.3s; }-->
.header-logo {
    width: 100%;
    max-width: 450px;
    height: auto;
    display: block;
    margin-bottom: 15px;
    margin-left: auto;
    margin-right: auto;
}
header { margin: 20px 0; padding-bottom: 15px; border-bottom: 2px solid var(--accent-color); position: relative; }
h1 { color: var(--accent-color); font-size: 2.2rem; margin-bottom: 8px; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1); position: relative; display: inline-block; padding: 0 15px; }
h1:after { content: ''; position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%); width: 80px; height: 3px; background: var(--accent-color); border-radius: 2px; }

.stats-bar {
    display: flex;
    justify-content: center;
    gap: 40px;
    background: none;
    border: none;
    box-shadow: none;
    padding: 0;
    /* [修改] 大幅减少上边距，让它紧随Logo；保持合理的下边距 */
    margin: 15px 0 25px 0;
    font-size: 0.8rem;
}

.meta-info {
    font-size: 0.8rem;
    display: flex;
    padding: 4px 0;
    margin: 0 0 10px 0;
    background: none;
    border: none;
    box-shadow: none;
    /* 默认居中对齐 */
    justify-content: center;
    align-items: center;
}

.stat-item { display: flex; align-items: center; gap: 6px; color: var(--text-secondary); }
.category { font-weight: bold; background: var(--button-bg); padding: 4px 12px; border-radius: 20px; display: inline-flex; align-items: center; gap: 6px; color: var(--text-accent); border: 1px solid var(--card-border); font-size: 0.75rem; }
.date { display: flex; align-items: center; gap: 6px; font-weight: 400; color: var(--text-secondary); }
.date i {
    color: var(--brand-cyan); /* 使用品牌青色 */
    font-size: 1em;
}

.news-item { background: var(--card-bg); border-radius: 12px; padding: 15px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); border: 1px solid var(--card-border); position: relative; overflow: hidden; }
.news-item:first-child { border-top: none; }
.news-title {
    color: var(--text-primary);
    margin: 10px 0 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--card-border);
    line-height: 1.3;
    /* [修改] 开启自动连字符，并设置备用方案 */
    overflow-wrap: break-word;
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
    hyphens: auto;
    word-break: normal;
}
.image-gallery-container {
    margin: 20px 0;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
}
.image-gallery {
    display: flex;
    overflow-x: auto;
    scroll-behavior: smooth;
    gap: 15px;
    scrollbar-width: none;
    -ms-overflow-style: none;
    scroll-snap-type: x mandatory;
}
.image-gallery::-webkit-scrollbar { display: none; }
.image-container {
    flex: 0 0 100%;
    width: 100%;
    aspect-ratio: 16 / 10;
    background: var(--button-bg);
    border-radius: 12px;
    overflow: hidden;
    scroll-snap-align: center;
    position: relative;
    cursor: zoom-in; /* 改变鼠标指针，提示可点击 */
}
.image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
}
.image-container:hover img {
    transform: scale(1.05);
}

/* 优化点2: 根据用户要求，隐藏主图库的左右导航按钮 */
.gallery-nav {
    display: none;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: var(--nav-bg);
    backdrop-filter: blur(5px);
    border-radius: 50%;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10;
    transition: all 0.3s ease;
    color: var(--text-primary);
    font-size: 1rem;
    border: 1px solid transparent;
}
.gallery-nav:hover {
    background: var(--accent-color);
    color: var(--bg-main);
    transform: translateY(-50%) scale(1.1);
}
.gallery-nav.prev { left: 15px; }
.gallery-nav.next { right: 15px; }
.gallery-indicators {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    justify-content: center;
    gap: 8px;
    z-index: 10;
    padding: 5px 10px;
    background: var(--nav-bg);
    backdrop-filter: blur(5px);
    border-radius: 20px;
}
.indicator {
    width: 20px;
    height: 4px;
    border-radius: 2px;
    background: var(--indicator-inactive);
    cursor: pointer;
    transition: all 0.4s ease;
}
.indicator.active {
    background: var(--brand-cyan); /* 使用品牌青色 */
    width: 30px;
}

/* --- 全屏图片查看器（Lightbox）样式 --- */
.fullscreen-viewer {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.9);
    backdrop-filter: blur(8px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
    -webkit-user-select: none; /* 禁止文本选中 */
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
.fullscreen-viewer.show {
    opacity: 1;
    visibility: visible;
}
.fullscreen-viewer img {
    max-width: 90%;
    max-height: 85%;
    object-fit: contain;
    transition: transform 0.3s ease-out, opacity 0.3s ease-out; /* 为图片切换添加过渡 */
    transform: scale(1);
    opacity: 1;
}
/* 图片切换时的动画效果 */
.fullscreen-viewer img.fade-out {
    transform: scale(0.95);
    opacity: 0;
}
/* 关闭按钮 */
.fullscreen-close {
    position: absolute;
    top: 20px;
    right: 25px;
    width: 40px;
    height: 40px;
    font-size: 24px;
    color: #fff;
    background: rgba(40, 40, 40, 0.7);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.3s, background-color 0.3s;
}
.fullscreen-close:hover {
    transform: rotate(90deg);
    background-color: rgba(255, 0, 0, 0.8);
}
/* 左右导航箭头 (悬浮时保留) */
.fullscreen-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 45px;
    height: 45px;
    font-size: 22px;
    color: #fff;
    background: rgba(40, 40, 40, 0.6);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.3s, background-color 0.3s;
}
.fullscreen-nav:hover {
    transform: translateY(-50%) scale(1.1);
    background: var(--accent-color);
}
.fullscreen-nav.prev { left: 20px; }
.fullscreen-nav.next { right: 20px; }
/* --- 全屏查看器样式结束 --- */

.news-content p { margin-bottom: 12px; }
.source-link {
    display: inline-flex; /* 确保 transform 生效 */
    align-items: center;
    text-decoration: none;
    color: var(--text-accent);
    font-weight: 600;
    transition: all 0.3s ease;
    padding: 0;
    background: none;
    box-shadow: none;
    font-size: 0.95em;
    margin-left: 4px;
    vertical-align: baseline;
    line-height: 1;
    margin-top: 0 !important;
}
.source-link:hover {
    color: var(--brand-cyan); /*统一悬浮颜色为品牌青色 */
    text-decoration: underline;
    transform: scale(1.25); /* [新增] 鼠标悬浮时放大 */
}
.source-link i { font-size: 0.95em; margin-left: 3px; vertical-align: middle; }
footer { text-align: center; margin-top: 40px; padding: 20px; border-top: 1px solid var(--card-border); background: var(--card-bg); border-radius: 12px; }

/* --- 返回顶部按钮样式 --- */
#back-to-top {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 45px;
    height: 45px;
    background-color: var(--accent-color);
    color: var(--nav-hover-color);
    border: none;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    font-size: 1.2rem;
}
#back-to-top.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}
#back-to-top:hover {
    transform: scale(1.1);
}

@media (max-width: 768px) {

    /*
     * 逻辑1: 整体收紧页面两侧间距
     */
    body {
        padding-left: 10px;
        padding-right: 10px;
    }

    /*
     * 逻辑3: 优化新闻卡片布局
     */
    .news-item {
        padding: 15px 12px;
        border: 1px solid transparent;
        background-clip: padding-box;
        border-image: linear-gradient(to bottom right, var(--card-border), transparent) 1;
    }

    /*
     * 逻辑4: 让新闻标题“边缘出血”，并减少其下边距
     */
    .news-title {
        margin: -15px -12px 8px -12px;
        padding: 12px 12px;
        background: linear-gradient(to right, rgba(0, 255, 255, 0.05), transparent);
        border-radius: 12px 12px 0 0; /* [修改] 为移动端标题的左上和右上角添加圆角 */
    }
    html[data-theme="light"] .news-title {
        background: linear-gradient(to right, rgba(0, 123, 255, 0.05), transparent);
    }
    html[data-theme="gray"] .news-title {
        background: linear-gradient(to right, rgba(0, 86, 179, 0.05), transparent);
    }

    /*
     * 逻辑5: 优化元信息（meta-info）的位置和间距
     */
    .news-item .meta-info {
        justify-content: space-between; /* 在移动端强制两端对齐 */
        padding: 0;
        margin: 0 0 15px 0;
    }

    /*
     * 逻辑6: 让图片库“边缘出血”
     */
    .image-gallery-container {
        margin-left: -12px;
        margin-right: -12px;
        margin-top: 0;
        border-radius: 12px;
        overflow: hidden;
    }

    /*
     * 逻辑7: 移除新闻正文自身的内边距
     */
    .news-content {
        padding: 0;
        margin-top: 15px;
        background: none;
        border: none;
    }
}

    </style>

</head>
<body>
<!-- 浮动控制元素的容器 -->
<div class="top-controls" id="top-controls">
    <div class="theme-selector">
        <select id="themeSelect">
            <option value="dark" data-ru="Темная" data-zh="深色" data-en="Dark">Темная</option>
            <option value="light" data-ru="Светлая" data-zh="浅色" data-en="Light">Светлая</option>
            <option value="gray" data-ru="Серая" data-zh="灰色" data-en="Gray">Серая</option>
        </select>
    </div>
    <div class="language-selector">
        <select id="languageSelect">
            <option value="ru">Русский</option>
            <option value="zh">中文</option>
            <option value="en">English</option>
        </select>
    </div>
</div>

<div class="header-container" id="main-header">
<!--    <svg class="header-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 300" width="700" height="300">-->
<!--        <defs>-->
<!--            <style>-->
<!--                .main-text-font { font-family: 'Arial', 'Helvetica', sans-serif; font-size: 48px; font-weight: 900; letter-spacing: 2px; }-->
<!--                .tagline-font { font-family: 'Arial', 'Helvetica', sans-serif; font-size: 18px; font-weight: normal; letter-spacing: 0.5px; }-->
<!--                .cyan-color { fill: #00E5E5; }-->
<!--                .black-color { fill: #000000; }-->
<!--            </style>-->
<!--        </defs>-->
<!--        <g id="logo-icon" transform="translate(350, 80)">-->
<!--            <circle class="cyan-color" cx="0" cy="0" r="10"/>-->
<!--            <path class="cyan-color" d="M -55,0 L -25,-22 C -40,0 -40,0 -25,22 L -55,0 Z"/>-->
<!--            <path class="cyan-color" d="M 55,0 L 25,-22 C 40,0 40,0 25,22 L 55,0 Z"/>-->
<!--        </g>-->
<!--        <text x="50%" y="185" text-anchor="middle" class="main-text-font">-->
<!--            <tspan class="black-color">ATOM INTELLIGENCE</tspan>-->
<!--        </text>-->
<!--        <text x="50%" y="235" text-anchor="middle" class="tagline-font black-color">-->
<!--            Transforming Insights, Powering Innovation-->
<!--        </text>-->
<!--    </svg>-->
        <img src="https://tg-connors-projects-87a4e157.vercel.app/logo_white.png" alt="Atom Intelligence" class="header-logo" id="logoImage">
</div>

<div class="meta-info" style="margin: 15px 0 0 0;">
    <span class="date"><i class="fas fa-calendar-alt"></i> <span>2025-10-22</span></span>
</div>

<div class="stats-bar">
    <div class="stat-item">
        <i class="fas fa-file-word fa-beat-fade"></i>
        <span>
            <span id="wordsCount" data-ru="81" data-zh="126" data-en="79">81</span>
            <span id="wordsText" data-ru="Слов" data-zh="字" data-en="Words">Слов</span>
        </span>
    </div>
    <div class="stat-item">
        <i class="fas fa-hourglass-half fa-spin"></i>
        <span>
            <span id="minsCount" data-ru="1" data-zh="1" data-en="1">1</span>
            <span id="minsText" data-ru="Мин" data-zh="分钟" data-en="Mins">Мин</span>
        </span>
    </div>
</div>

<!-- 主体内容 -->

<article class="news-item">
    <h2 class="news-title"
        data-ru='"\u0413\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u043d\u0430\u0434\u0437\u043e\u0440\u0443 \u0437\u0430 \u0440\u044b\u043d\u043a\u043e\u043c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043b\u043e \u043d\u043e\u0432\u044b\u0439 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442 \u043f\u043e \u0443\u0442\u0438\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u0430\u0442\u0430\u0440\u0435\u0439; CATL \u0438 Bangpu Recycling System \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0432\u0430\u0436\u043d\u044b\u043c\u0438 \u0432\u0435\u0434\u0443\u0449\u0438\u043c\u0438 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f\u043c\u0438."'
        data-zh='"\u5e02\u573a\u76d1\u7ba1\u603b\u5c40\u53d1\u5e03\u7535\u6c60\u56de\u6536\u65b0\u56fd\u6807\uff0c\u5b81\u5fb7\u65f6\u4ee3\u90a6\u666e\u5faa\u73af\u7cfb\u91cd\u8981\u7275\u5934\u4f01\u4e1a\u3002"'
        data-en='"The State Administration for Market Regulation released a new national standard for battery recycling, and CATL\u0027s Bangpu Recycling System is an important leading enterprise."'>Государственное управление по надзору за рынком опубликовало новый национальный стандарт по утилизации батарей; CATL и Bangpu Recycling System являются важными ведущими предприятиями.</h2>

    <div class="meta-info" style="justify-content: space-between; width: 100%;">
        <span class="category"
              data-ru='"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435"'
              data-zh='"\u653f\u7b56\u4e0e\u5408\u89c4"'
              data-en='"Policy And Compliance"'>
            <i class="fas fa-tag"></i>&nbsp;Политика и соответствие
        </span>
        <span class="date">
            <i class="fas fa-calendar-alt"></i> 2025-10-22
        </span>
    </div>

    
    <div class="image-gallery-container">
        <div class="image-gallery" id="gallery-1">
            
            <div class="image-container">
                <img src="http://imagecn.gasgoo.com/moblogo/news/UEditor/700-X/20251021/2107005212.jpg" alt="新闻配图" loading="lazy">
            </div>
            
            <div class="image-container">
                <img src="http://imagecn.gasgoo.com/moblogo/news/UEditor/700-X/20251021/2107005231.jpg" alt="新闻配图" loading="lazy">
            </div>
            
        </div>
        <div class="gallery-nav prev" onclick="scrollGallery('gallery-1', -1)"><i class="fas fa-chevron-left"></i></div>
        <div class="gallery-nav next" onclick="scrollGallery('gallery-1', 1)"><i class="fas fa-chevron-right"></i></div>
        <div class="gallery-indicators" id="indicators-1"></div>
    </div>
    

    <div class="news-content"
         data-ru='"\u0412 2025 \u0433\u043e\u0434\u0443 \u0413\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u044b\u043d\u043e\u0447\u043d\u043e\u0433\u043e \u043d\u0430\u0434\u0437\u043e\u0440\u0430 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043b\u043e 22 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430 \u043f\u043e \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0430\u043a\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u043e\u0432 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0434\u043e\u0447\u0435\u0440\u043d\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 Bangpu Recycling \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 Ningde Shidai. \u042d\u0442\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0441\u0430\u043c\u044b\u043c \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0432 \u043c\u0438\u0440\u0435 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u043e\u043c \u0443\u0442\u0438\u043b\u0438\u0437\u0430\u0446\u0438\u0438, \u0435\u0436\u0435\u0433\u043e\u0434\u043d\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 120\u202f000 \u0442\u043e\u043d\u043d, \u0447\u0442\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u0443\u0435\u0442 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044e \u043f\u0438\u043a\u0430 \u0443\u0442\u0438\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a 2030\u202f\u0433\u043e\u0434\u0443 \u0438 \u0446\u0435\u043b\u0438 \u043d\u0443\u043b\u0435\u0432\u043e\u0433\u043e \u0443\u0433\u043b\u0435\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0441\u043b\u0435\u0434\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 Ningde Shidai."'
         data-zh='"\u5e02\u573a\u76d1\u7ba1\u603b\u5c402025\u5e74\u53d1\u5e0322\u9879\u52a8\u529b\u7535\u6c60\u56de\u6536\u5229\u7528\u56fd\u5bb6\u6807\u51c6\uff0c\u4e3b\u8981\u7531\u5b81\u5fb7\u65f6\u4ee3\u5b50\u516c\u53f8\u90a6\u666e\u5faa\u73af\u7275\u5934\u5236\u5b9a\u3002\u8be5\u4f01\u4e1a\u56de\u6536\u7387\u5c45\u5168\u7403\u6700\u9ad8\uff0c\u5e74\u5904\u7406\u80fd\u529b12\u4e07\u5428\uff0c\u52a9\u529b\u5b9e\u73b0\u5b81\u5fb7\u65f6\u4ee32030\u5e74\u56de\u6536\u9ad8\u5cf0\u53ca\u96f6\u78b3\u76ee\u6807\u3002"'
         data-en='"In 2025, the State Administration for Market Regulation released 22 national standards for power battery recycling and utilization. They were primarily drafted by Bangpu Recycling, a subsidiary of CATL. The company has the highest recycling rate worldwide, with an annual processing capacity of 120,000 tonnes, helping CATL achieve its 2030 recycling peak and zero\u2011carbon goals."'>
        В 2025 году Государственное управление рыночного надзора опубликовало 22 национальных стандарта по переработке и использованию аккумуляторов электромобилей, разработанные в основном дочерней компанией Bangpu Recycling компании Ningde Shidai. Эта компания обладает самым высоким в мире коэффициентом утилизации, ежегодная мощность обработки составляет 120 000 тонн, что способствует достижению пика утилизации к 2030 году и цели нулевого углеродного следа компании Ningde Shidai. 
        <a href="https://auto.gasgoo.com/news/202510/22I70435575C501.shtml" class="source-link" style="display: inline-block; margin-top: 15px;"><i class="fas fa-arrow-up-right-from-square"></i></a>
    </div>
</article>


<footer>
    <p id="copyrightText">Авторское право © Atom 2025. Все права защищены</p>
    <p id="updateText">Последнее обновление: 2025-10-22 04:20:21</p>
</footer>

<button id="back-to-top" title="返回顶部"><i class="fas fa-arrow-up"></i></button>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        initializeGalleries();
        initializeLanguage();
        initializeTheme();
        initializeFullscreenViewer();
        initializeScrollFeatures();
    });

    // --- 主题初始化 ---
    function initializeTheme() {
        const themeSelect = document.getElementById('themeSelect');
        const savedTheme = localStorage.getItem('selectedTheme') || 'light';
        applyTheme(savedTheme);
        themeSelect.value = savedTheme;
        themeSelect.addEventListener('change', function() {
            const newTheme = this.value;
            applyTheme(newTheme);
            localStorage.setItem('selectedTheme', newTheme);
        });
    }

    function applyTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);

        const logoImage = document.getElementById('logoImage');
        if (logoImage) {
            const baseUrl = 'https://tg-connors-projects-87a4e157.vercel.app';

            if (theme === 'dark') {
                logoImage.src = baseUrl + '/logo_dark.png';
            } else {
                logoImage.src = baseUrl + '/logo_white.png';
            }
        }
    }

    // --- 语言初始化 ---
    function initializeLanguage() {
        const languageSelect = document.getElementById('languageSelect');
        const savedLang = localStorage.getItem('selectedLanguage') || 'ru';
        languageSelect.value = savedLang;
        applyLanguage(savedLang);
        languageSelect.addEventListener('change', function() {
            const lang = this.value;
            localStorage.setItem('selectedLanguage', lang);
            applyLanguage(lang);
        });
    }

    // --- 滚动特性初始化 ---
    function initializeScrollFeatures() {
        const topControls = document.getElementById('top-controls');
        const mainHeader = document.getElementById('main-header');
        const backToTopButton = document.getElementById('back-to-top');
        const scrollThreshold = mainHeader.offsetTop + mainHeader.offsetHeight;

        window.addEventListener('scroll', () => {
            if (window.scrollY > scrollThreshold) {
                topControls.classList.add('sticky');
            } else {
                topControls.classList.remove('sticky');
            }
            if (window.scrollY > 300) {
                backToTopButton.classList.add('show');
            } else {
                backToTopButton.classList.remove('show');
            }
        }, { passive: true });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }

    // --- 画廊初始化 ---
    function initializeGalleries() {
        document.querySelectorAll('.image-gallery').forEach(gallery => {
            const galleryId = gallery.id;
            const indicatorsContainer = document.getElementById(`indicators-${galleryId.split('-')[1]}`);
            const imageContainers = gallery.querySelectorAll('.image-container');
            const imageCount = imageContainers.length;

            if (imageCount === 0 || !indicatorsContainer) return;

            const navContainer = gallery.closest('.image-gallery-container');
            if (imageCount <= 1) {
                if(navContainer.querySelector('.gallery-nav.prev')) navContainer.querySelector('.gallery-nav.prev').style.display = 'none';
                if(navContainer.querySelector('.gallery-nav.next')) navContainer.querySelector('.gallery-nav.next').style.display = 'none';
                indicatorsContainer.style.display = 'none';
                return;
            }

            indicatorsContainer.innerHTML = '';
            for (let i = 0; i < imageCount; i++) {
                const indicator = document.createElement('div');
                indicator.classList.add('indicator');
                if (i === 0) indicator.classList.add('active');
                indicator.onclick = () => showImage(galleryId, i);
                indicatorsContainer.appendChild(indicator);
            }

            resetAutoScroll(gallery);

            let scrollTimer;
            gallery.addEventListener('scroll', () => {
                 clearTimeout(scrollTimer);
                 scrollTimer = setTimeout(() => {
                      updateIndicators(galleryId);
                 }, 150);
            }, { passive: true });
        });
    }

    // --- 全屏图片查看器 ---
    function initializeFullscreenViewer() {
        let currentImages = [], currentIndex = 0, viewerElement = null, touchStartX = 0, touchEndX = 0;

        document.querySelectorAll('.image-container').forEach(container => {
            container.addEventListener('click', () => {
                const gallery = container.closest('.image-gallery');
                if (!gallery) return;
                currentImages = Array.from(gallery.querySelectorAll('img')).map(img => img.src);
                currentIndex = Array.from(gallery.children).indexOf(container);
                createViewer();
            });
        });

        function createViewer() {
            if (document.querySelector('.fullscreen-viewer')) { document.querySelector('.fullscreen-viewer').remove(); }
            viewerElement = document.createElement('div');
            viewerElement.className = 'fullscreen-viewer';
            viewerElement.innerHTML = `<div class="fullscreen-close" title="关闭">&times;</div><div class="fullscreen-nav prev" title="上一张">&#10094;</div><img src="" alt="全屏图片"><div class="fullscreen-nav next" title="下一张">&#10095;</div>`;
            document.body.appendChild(viewerElement);
            document.body.style.overflow = 'hidden';

            viewerElement.querySelector('.fullscreen-close').addEventListener('click', closeViewer);
            viewerElement.querySelector('.fullscreen-nav.prev').addEventListener('click', () => changeImage(-1));
            viewerElement.querySelector('.fullscreen-nav.next').addEventListener('click', () => changeImage(1));
            viewerElement.addEventListener('touchstart', (e) => { touchStartX = e.changedTouches[0].screenX; }, { passive: true });
            viewerElement.addEventListener('touchend', (e) => { touchEndX = e.changedTouches[0].screenX; handleSwipe(); });
            document.addEventListener('keydown', handleKeydown);
            showImageInViewer();
            setTimeout(() => viewerElement.classList.add('show'), 10);
        }

        function showImageInViewer() {
            if (!viewerElement) return;
            const img = viewerElement.querySelector('img');
            const prevNav = viewerElement.querySelector('.fullscreen-nav.prev');
            const nextNav = viewerElement.querySelector('.fullscreen-nav.next');
            img.src = currentImages[currentIndex];
            const display = currentImages.length <= 1 ? 'none' : 'flex';
            prevNav.style.display = nextNav.style.display = display;
        }

        function changeImage(direction) {
            const img = viewerElement.querySelector('img');
            img.classList.add('fade-out');
            setTimeout(() => {
                currentIndex = (currentIndex + direction + currentImages.length) % currentImages.length;
                showImageInViewer();
                img.classList.remove('fade-out');
            }, 300);
        }

        function handleSwipe() {
            if (Math.abs(touchEndX - touchStartX) < 50) return;
            changeImage(touchEndX < touchStartX ? 1 : -1);
        }

        function handleKeydown(e) {
            if (!viewerElement) return;
            if (e.key === 'ArrowLeft') changeImage(-1);
            else if (e.key === 'ArrowRight') changeImage(1);
            else if (e.key === 'Escape') closeViewer();
        }

        function closeViewer() {
            if (viewerElement) {
                viewerElement.classList.remove('show');
                document.removeEventListener('keydown', handleKeydown);
                document.body.style.overflow = '';
                setTimeout(() => { viewerElement.remove(); viewerElement = null; }, 300);
            }
        }
    }

    // --- 画廊功能函数 ---
    function getCurrentImageIndex(galleryId) {
        const gallery = document.getElementById(galleryId);
        if (!gallery || gallery.children.length === 0) return 0;
        const itemWidth = gallery.children[0].getBoundingClientRect().width;
        const gap = parseInt(getComputedStyle(gallery).gap) || 0;
        return Math.round(gallery.scrollLeft / (itemWidth + gap));
    }

    function showImage(galleryId, index) {
        const gallery = document.getElementById(galleryId);
        const image = gallery.children[index];
        if (image) {
            gallery.scrollTo({ left: image.offsetLeft, behavior: 'smooth' });
            resetAutoScroll(gallery);
        }
    }

    function scrollGallery(galleryId, direction) {
        const gallery = document.getElementById(galleryId);
        const newIndex = (getCurrentImageIndex(galleryId) + direction + gallery.children.length) % gallery.children.length;
        showImage(galleryId, newIndex);
    }

    function resetAutoScroll(gallery) {
        clearInterval(gallery.dataset.autoScroll);
        gallery.dataset.autoScroll = setInterval(() => scrollGallery(gallery.id, 1), 5000);
    }

    function updateIndicators(galleryId) {
        const indicatorsContainer = document.getElementById(`indicators-${galleryId.split('-')[1]}`);
        if (!indicatorsContainer) return;
        const activeIndex = getCurrentImageIndex(galleryId);
        indicatorsContainer.querySelectorAll('.indicator').forEach((dot, index) => {
            dot.classList.toggle('active', index === activeIndex);
        });
    }

    // --- 语言应用核心函数 (已重写和修复) ---
    function applyLanguage(lang) {
        const langMap = {'ru': 'ru-RU', 'zh': 'zh-CN', 'en': 'en-US'};
        document.documentElement.lang = langMap[lang] || 'ru-RU';

        // 翻译所有带有 data-ru 属性的元素
        document.querySelectorAll('[data-ru]').forEach(element => {
            if (element.dataset[lang] === undefined) return;
            const rawData = element.dataset[lang];
            let content = rawData; // 默认为原始数据

            // 检查是否需要JSON解析（即那些应用了tojson过滤器的元素）
            const requiresJsonParse = element.classList.contains('news-title') ||
                                      element.classList.contains('category') ||
                                      element.classList.contains('news-content');

            if (requiresJsonParse) {
                try {
                    content = JSON.parse(rawData);
                } catch (e) {
                    console.error("无法解析JSON数据:", rawData, "在元素:", element);
                    // 解析失败时，content 保持为原始数据
                }
            }

            // 根据元素类型更新内容
            if (element.classList.contains('news-content')) {
                const link = element.querySelector('a.source-link');
                element.innerHTML = content; // 设置解析后的HTML内容
                if (link) element.appendChild(link); // 重新附加链接
            } else if (element.classList.contains('category')) {
                // 特殊处理 category，保留图标
                element.innerHTML = `<i class="fas fa-tag"></i>&nbsp;${content}`;
            } else {
                // 对于标题和其他简单元素，安全地设置文本内容
                element.innerHTML = content;
            }
        });

        // 翻译固定的静态文本
        const translations = {
            ru: { copyright: "Авторское право © Atom 2025. Все права защищены", updated: "Последнее обновление: " },
            zh: { copyright: "版权所有 © Atom 2025。保留所有权利", updated: "最后更新: " },
            en: { copyright: "Copyright © Atom 2025. All Rights Reserved", updated: "Last updated: " }
        };

        const copyrightText = document.getElementById('copyrightText');
        if (copyrightText) copyrightText.textContent = translations[lang].copyright;

        const updateText = document.getElementById('updateText');
        if (updateText) {
            const updateTime = '2025-10-22 04:20:21';
            updateText.textContent = translations[lang].updated + updateTime;
        }
    }
</script>
</body>
</html>